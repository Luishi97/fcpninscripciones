(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{133:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var a=n(86),c=n(309),i=n(158),r=n.n(i),s=(n(145),r.a.create({baseURL:"http://".concat("cursos.fcpn.edu.bo",":").concat("4000","/api/"),timeout:5e3,headers:{"Content-Type":"application/json"},mode:"cors"})),o=function(e,t,n){n(!0),s.get("/".concat(e)).then((function(e){console.log("res.data",e.data),t(e.data.data)})).catch((function(e){console.log("err",e),t(null),a.a.error({message:"No se pudo obtener la lista de alumnos",description:"Hubo un error al obtener la lista de alumnos "+e,className:"notifications"})})).finally((function(){return n(!1)}))},l=function(e,t,n,a){n(!0),s.post("/".concat(e),t).then((function(){c.a.success({title:"Registrado con exito",content:"Se registro su usuario satisfactoriamente"}),a&&a()})).catch((function(e){c.a.error({title:"Error al registrar",content:"No se pudo registrar: "+JSON.parse(e.request.response).message})})).finally((function(){return n(!1)}))},d=function(e){s.delete("/upload/".concat(e)).then((function(e){console.log("res.data",e.data)})).catch((function(e){return console.log("err",e)}))}},145:function(e,t,n){},289:function(e,t,n){},311:function(e,t,n){"use strict";n.r(t);var a=n(124),c=n(0),i=n(284),r=n(123),s=n(133),o=n(302),l=n(127),d=n(308),u=n(313),j=n(312),h=n(300),b=n(309),m=n(14);function f(e){var t=e.studentData,n=e.isVisible,i=e.setIsVisible,s=Object(c.useState)(!1),o=Object(a.a)(s,2),l=o[0],d=o[1],u=window.window.screen.width;return Object(m.jsxs)(j.a,{title:"Datos del formulario de registro del estudiante",placement:"right",width:u>=640?"30%":"70%",destroyOnClose:!0,onClose:function(){return i(!1)},visible:n,children:[Object(m.jsx)("h2",{children:"Datos personales"}),Object(m.jsx)("h3",{children:"Nombre: "}),Object(m.jsx)("p",{children:t.name}),Object(m.jsx)("h3",{children:"Primer apellido: "}),Object(m.jsx)("p",{children:t.fistLastName}),Object(m.jsx)("h3",{children:"Segundo apellido: "}),Object(m.jsx)("p",{children:t.secondLastName}),Object(m.jsx)("h3",{children:"Ciudad: "}),Object(m.jsx)("p",{children:t.city}),Object(m.jsx)("h3",{children:"Carnet de identidad: "}),Object(m.jsx)("p",{children:t.ci}),Object(m.jsx)("h3",{children:"Email: "}),Object(m.jsx)("p",{children:t.email}),Object(m.jsx)("h3",{children:"Telefono: "}),Object(m.jsx)("p",{children:t.tellphone}),Object(m.jsx)("h3",{children:"Celular: "}),Object(m.jsx)("p",{children:t.cellphone}),Object(m.jsx)(h.a,{}),Object(m.jsx)("h2",{children:"Datos para la factura"}),Object(m.jsx)("h3",{children:"Nombre de la factura: "}),Object(m.jsx)("p",{children:t.invoice&&t.invoice.name}),Object(m.jsx)("h3",{children:"NIT: "}),Object(m.jsx)("p",{children:t.invoice&&t.invoice.nit}),Object(m.jsx)(h.a,{}),Object(m.jsx)("h2",{children:"Datos para la factura"}),Object(m.jsx)("h3",{children:"Fecha de pago: "}),Object(m.jsx)("p",{children:t.payment&&t.payment.dateOfPay}),Object(m.jsx)("h3",{children:"Boleta de pago: "}),Object(m.jsx)(r.a,{type:"primary",onClick:function(){return d(!0)},children:"Ver boleta de pago"}),Object(m.jsx)(b.a,{width:750,title:"Boleta de pago",visible:l,destroyOnClose:!0,onCancel:function(){return d(!1)},children:Object(m.jsx)("embed",{src:t.payment&&"http://cursos.fcpn.edu.bo:4000"+t.payment.urlFile,width:"100%",height:"400px"})}),Object(m.jsx)(h.a,{})]})}var p=function(e,t){var n=Object(c.useState)({}),i=Object(a.a)(n,2),s=i[0],o=i[1],j=Object(c.useState)({}),h=Object(a.a)(j,2),b=(h[0],h[1]),f=Object(c.useRef)(null),p=Object(c.useState)(""),O=Object(a.a)(p,2),x=(O[0],O[1]),g=Object(c.useState)(""),y=Object(a.a)(g,2),v=(y[0],y[1]),N=function(e,t,n){t(),x(e[0]),v(n)},w=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,c=t.confirm,i=t.clearFilters;return Object(m.jsxs)("div",{style:{padding:8},children:[Object(m.jsx)(d.a,{ref:f,placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return N(a,c,e)},style:{marginBottom:8,display:"block"}}),Object(m.jsxs)(u.b,{children:[Object(m.jsx)(r.a,{type:"primary",onClick:function(){return N(a,c,e)},icon:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",height:12,width:12,children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),size:"small",style:{width:90},children:"Buscar"}),Object(m.jsx)(r.a,{onClick:function(){return function(e){e(),x("")}(i)},size:"small",style:{width:90},children:"Limpiar"}),Object(m.jsx)(r.a,{type:"link",size:"small",onClick:function(){c({closeDropdown:!1}),x(a[0]),v(e)},children:"Filtrar"})]})]})},filterIcon:function(e){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:e?"#1890ff":"#c0c0c0",height:18,width:18,children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&window.setTimeout((function(){return f.focus}),100)}}};return{columns:[Object(l.a)({title:"Nombre",dataIndex:"name",key:"name",onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===s.columnKey&&s.order,ellipsis:!0},w("name")),Object(l.a)({title:"Primer apellido",dataIndex:"firstLastName",key:"firstLastName",onFilter:function(e,t){return t.firstLastName.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"firstLastName"===s.columnKey&&s.order,responsive:["md"]},w("firstLastName")),Object(l.a)({title:"Segundo apellido",dataIndex:"secondLastName",key:"secondLastName",onFilter:function(e,t){return t.secondLastName.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"secondLastName"===s.columnKey&&s.order,responsive:["md"]},w("secondLastName")),Object(l.a)({title:"C.I.",dataIndex:"ci",key:"ci",onFilter:function(e,t){return t.ci.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},responsive:["md"]},w("ci")),{title:"Opciones",dataIndex:"options",key:"options",render:function(n,a){return Object(m.jsx)(u.b,{size:"middle",children:Object(m.jsx)(r.a,{type:"primary",onClick:function(){t(!0),e(a)},children:"Ver Detalles"})})}}],handleChange:function(e,t,n){b(t),o(n)}}};function O(e){var t=e.data,n=e.isLoading,i=Object(c.useState)({}),r=Object(a.a)(i,2),s=r[0],l=r[1],d=Object(c.useState)(!1),u=Object(a.a)(d,2),j=u[0],h=u[1],b=p(l,h),O=b.columns,x=b.handleChange;return Object(m.jsxs)("div",{className:"table",children:[Object(m.jsx)(o.a,{dataSource:t,columns:O,loading:n,onChange:x}),Object(m.jsx)(f,{studentData:s,isVisible:j,setIsVisible:h})]})}var x=n(288);n(289);function g(){var e=Object(i.useState)(),t=Object(a.a)(e,2),n=t[0],o=t[1],d=Object(i.useState)(!1),u=Object(a.a)(d,2),j=u[0],h=u[1],b=function(e){var t={};t.fileName="Lista De Alumno "+(new Date).toLocaleDateString("es-ES"),t.datas=[{sheetData:e.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{invoiceName:e.invoice.name,invoiceNit:e.invoice.nit,paymentDateOfPay:e.payment.dateOfPay,paymentUrlFile:"http://cursos.fcpn.edu.bo:4000"+e.payment.urlFile})})),sheetFilter:["name","firstLastName","secondLastNameLastName","ci","tellphone","cellphone","email","city","invoiceName","invoiceNit","paymentDateOfPay","paymentUrlFile"],sheetHeader:["Nombres","Primer apellido","Segundo apellido","C.I.","Telefono","Celular","Email","Ciudad","Nombre de la factura","Nit de la factura","Fecha de pago","Url de la boleta de pago"]}],new x(t).saveExcel()};return console.log("students",n),Object(c.useEffect)((function(){Object(s.c)("students",o,h)}),[]),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"header",children:Object(m.jsx)("h1",{children:"Lista de insctitos"})}),Object(m.jsx)("div",{className:"action__buttons",children:Object(m.jsx)(r.a,{type:"primary",className:"button__excel",onClick:function(){return b(n)},children:"Exportar excel"})}),Object(m.jsx)(O,{data:n,isLoading:j})]})}t.default=Object(c.memo)(g)}}]);
//# sourceMappingURL=7.50f9995e.chunk.js.map